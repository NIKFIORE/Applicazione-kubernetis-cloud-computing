apiVersion: kustomize.config.k8s.io/v1beta1   # API usata da Kustomize
kind: Kustomization                          # Tipo di risorsa Kustomize

resources:
  - ../../base                               # Risorse base da cui partire

patchesStrategicMerge:
  - |-                                    # Patch per il Deployment dellâ€™app Python
    apiVersion: apps/v1                    
    kind: Deployment                       
    metadata:
      name: python-app                     
    spec:
      template:
        spec:
          containers:
            - name: app                    
              resources:
                limits:
                  cpu: "0.3"               
                  memory: 300Mi            
  - |-                                    # Patch per il Deployment MongoDB
    apiVersion: apps/v1                    
    kind: Deployment                       
    metadata:
      name: mongodb                        
    spec:
      template:
        spec:
          containers:
            - name: mongodb                
              resources:
                limits:
                  cpu: "0.6"               
                  memory: 600Mi             
